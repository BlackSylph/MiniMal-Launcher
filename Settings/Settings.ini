[Rainmeter]
DynamicWindowSize=1
AccurateText=1
Update=100

[Metadata]
Name=MiniMal
Author=Theroc
Information=Program launcher
Version=1.9
License=Creative Commons Attribution - Non - Commercial - Share Alike 3.0

[Variables]
FontSize=20
FontFace=Agency FB
@Include=#@#Variables.inc
@Include2=#@#Applications.inc
StartX=(#SCREENAREAWIDTH# / 2) - 225
StartY=(#SCREENAREAHEIGHT# / 2) - 300
AddName=Program name
AddPath=Program path
AddParameters=Launch parameters (optional)
RemoveName=Program name
ButtonPressed=2
WrongInputHidden=1
SuccessInputHidden=1

[BackShape]
Meter=Shape
Shape=Rectangle #StartX#,#StartY#,450,600 | StrokeWidth 0 | Fill Color #MainColor#
DynamicVariables=1

[ThemeString]
Meter=String
Text=Theme
X=#StartX# + 40
Y=#StartY# + 50
FontColor=#SecondaryColor#
FontSize=#FontSize#
FontFace=#FontFace#
DynamicVariables=1

[ThemeBlackShape]
Meter=Shape
Shape=Rectangle (#StartX# + [RemoveProgramString:W] + 60),(#StartY# + 52),30,30 | StrokeWidth 2 | Stroke Color 255,255,255 | Fill Color 0,0,0
DynamicVariables=1
LeftMouseUpAction=[!WriteKeyValue Variables MainColor 0,0,0 "#@#Variables.inc"][!WriteKeyValue Variables SecondaryColor 255,255,255 "#@#Variables.inc"][!Refresh][!Refresh "MiniMal\Launcher"]

[ThemeWhiteShape]
Meter=Shape
Shape=Rectangle (#StartX# + [RemoveProgramString:W] + 110),(#StartY# + 52),30,30 | StrokeWidth 2 | Stroke Color 0,0,0 | Fill Color 255,255,255
DynamicVariables=1
LeftMouseUpAction=[!WriteKeyValue Variables MainColor 255,255,255 "#@#Variables.inc"][!WriteKeyValue Variables SecondaryColor 0,0,0 "#@#Variables.inc"][!Refresh][!Refresh "MiniMal\Launcher"]


[AddProgramString]
Meter=String
Text=Add program
X=#StartX# + 40
Y=#StartY# + 150
FontColor=#SecondaryColor#
FontSize=#FontSize#
FontFace=#FontFace#
DynamicVariables=1

[AddNameInputLine]
Meter=Shape
Shape=Rectangle (#StartX# + [RemoveProgramString:W] + 60),(#StartY# + 175),200,2 | Fill Color #SecondaryColor#
DynamicVariables=1

[AddNameInputLabel]
Meter=String
Text=#AddName#
X=#StartX# + [RemoveProgramString:W] + 61
Y=#StartY# + 150
W=200
H=20
FontColor=#SecondaryColor#
FontSize=(#FontSize# - 3)
FontFace=#FontFace#
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure AddNameMeasureInput "ExecuteBatch 1"][!UpdateMeter AddNameInputLabel]

[AddNameMeasureInput]
Measure=Plugin
Plugin=InputText
X=#StartX# + [RemoveProgramString:W] + 60
Y=#StartY# + 152
W=200
H=24
SolidColor=100,100,100
FontColor=#SecondaryColor#
FontSize=(#FontSize# - 3)
FontFace=#FontFace#
FocusDismiss=1
DynamicVariables=1
Command1=[!SetVariable AddName "$UserInput$"]

[AddPathInputLine]
Meter=Shape
Shape=Rectangle (#StartX# + [RemoveProgramString:W] + 60),(#StartY# + 230),200,2 | Fill Color #SecondaryColor#
DynamicVariables=1

[AddPathInputLabel]
Meter=String
Text=#AddPath#
X=#StartX# + [RemoveProgramString:W] + 61
Y=#StartY# + 205
W=200
H=20
FontColor=#SecondaryColor#
FontSize=(#FontSize# - 3)
FontFace=#FontFace#
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure AddPathMeasureInput "ExecuteBatch 1"][!UpdateMeter AddPathInputLabel]

[AddPathMeasureInput]
Measure=Plugin
Plugin=InputText
X=#StartX# + [RemoveProgramString:W] + 60
Y=#StartY# + 207
W=200
H=24
SolidColor=100,100,100
FontColor=#SecondaryColor#
FontSize=(#FontSize# - 3)
FontFace=#FontFace#
FocusDismiss=1
DynamicVariables=1
Command1=[!SetVariable AddPath "$UserInput$"]


[AddParametersInputLine]
Meter=Shape
Shape=Rectangle (#StartX# + [RemoveProgramString:W] + 60),(#StartY# + 285),200,2 | Fill Color #SecondaryColor#
DynamicVariables=1

[AddParametersInputLabel]
Meter=String
Text=#AddParameters#
X=#StartX# + [RemoveProgramString:W] + 61
Y=#StartY# + 260
W=200
H=20
FontColor=#SecondaryColor#
FontSize=(#FontSize# - 3)
FontFace=#FontFace#
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure AddParametersMeasureInput "ExecuteBatch 1"][!UpdateMeter AddParametersInputLabel]

[AddParametersMeasureInput]
Measure=Plugin
Plugin=InputText
X=#StartX# + [RemoveProgramString:W] + 60
Y=#StartY# + 262
W=200
H=24
SolidColor=100,100,100
FontColor=#SecondaryColor#
FontSize=(#FontSize# - 3)
FontFace=#FontFace#
FocusDismiss=1
DynamicVariables=1
Command1=[!SetVariable AddParameters "$UserInput$"]


[AddProgramSubmitShape]
Meter=Shape
Shape=Rectangle (#StartX# + [RemoveProgramString:W] + 170),(#StartY# + 300),90,60 | Fill Color #SecondaryColor#
DynamicVariables=1
LeftMouseUpAction=[!SetVariable ButtonPressed 0][!EnableMeasure MeasureLuaScript]

[AddProgramSubmitString]
Meter=String
Text=SUBMIT
X=#StartX# + [RemoveProgramString:W] + 215 - ([AddProgramSubmitString:W] / 2)
Y=#StartY# + 330 - ([AddProgramSubmitString:H] / 2)
FontColor=#MainColor#
FontSize=#FontSize#
FontFace=#FontFace#
DynamicVariables=1


[RemoveProgramString]
Meter=String
Text=Remove program
X=#StartX# + 40
Y=#StartY# + 425
FontColor=#SecondaryColor#
FontSize=#FontSize#
FontFace=#FontFace#
DynamicVariables=1

[RemoveNameInputLine]
Meter=Shape
Shape=Rectangle (#StartX# + [RemoveProgramString:W] + 60),(#StartY# + 450),200,2 | Fill Color #SecondaryColor#
DynamicVariables=1

[RemoveNameInputLabel]
Meter=String
Text=#RemoveName#
X=#StartX# + [RemoveProgramString:W] + 61
Y=#StartY# + 425
W=200
H=20
FontColor=#SecondaryColor#
FontSize=(#FontSize# - 3)
FontFace=#FontFace#
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure RemoveNameMeasureInput "ExecuteBatch 1"][!UpdateMeter RemoveNameInputLabel]

[RemoveNameMeasureInput]
Measure=Plugin
Plugin=InputText
X=#StartX# + [RemoveProgramString:W] + 60
Y=#StartY# + 427
W=200
H=24
SolidColor=100,100,100
FontColor=#SecondaryColor#
FontSize=(#FontSize# - 3)
FontFace=#FontFace#
FocusDismiss=1
DynamicVariables=1
Command1=[!SetVariable RemoveName "$UserInput$"]

[RemoveNameProgramSubmitShape]
Meter=Shape
Shape=Rectangle (#StartX# + [RemoveProgramString:W] + 170),(#StartY# + 465),90,60 | Fill Color #SecondaryColor#
DynamicVariables=1
LeftMouseUpAction=[!SetVariable ButtonPressed 1][!EnableMeasure MeasureLuaScript]

[RemoveProgramSubmitString]
Meter=String
Text=SUBMIT
X=#StartX# + [RemoveProgramString:W] + 215 - ([RemoveProgramSubmitString:W] / 2)
Y=#StartY# + 495 - ([RemoveProgramSubmitString:H] / 2)
FontColor=#MainColor#
FontSize=#FontSize#
FontFace=#FontFace#
DynamicVariables=1


[WrongInput]
Meter=String
Text=Wrong Input!
X=#StartX# + 225 - ([WrongInput:W] / 2)
Y=#StartY# + 520
FontColor=#SecondaryColor#
FontSize=#FontSize#
FontFace=#FontFace#
DynamicVariables=1
Hidden=#WrongInputHidden#

[SuccessInput]
Meter=String
Text=Success!
X=#StartX# + 225 - ([SuccessInput:W] / 2)
Y=#StartY# + 520
FontColor=#SecondaryColor#
FontSize=#FontSize#
FontFace=#FontFace#
DynamicVariables=1
Hidden=#SuccessInputHidden#


[MeasureLuaScript]
Measure=Script
ScriptFile="#@#\Scripts\Settings.lua"
Disabled=1
